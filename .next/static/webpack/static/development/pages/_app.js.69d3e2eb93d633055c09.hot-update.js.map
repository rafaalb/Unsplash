{"version":3,"file":"static/webpack/static/development/pages/_app.js.69d3e2eb93d633055c09.hot-update.js","sources":["webpack:///./redux/actions/items.js"],"sourcesContent":["import axios from 'axios';\nimport _ from 'lodash';\nimport { endpoint, ACCESS_KEY } from '../../config';\n\nexport const FETCH_ITEM_SUCCESS = 'FETCH_ITEM_SUCCESS';\nexport const FETCH_ITEM_FAILURE = 'FETCH_ITEM_FAILURE';\nexport const FETCH_ITEM = 'FETCH_ITEM';\nexport const ADD_ITEMS = 'ADD_ITEMS';\nexport const SEARCH_ITEMS = 'SEARCH_ITEMS';\nexport const SEARCH_SUCCESS = 'SEARCH_ITEMS_SUCCESS';\nexport const SORT_ITEMS = 'SORT_ITEMS';\nexport const SORT_SUCCESS = 'SORT_SUCCESS';\nexport const FILTER_ITEMS = 'FILTER_ITEMS';\nexport const FILTER_SUCCESS = 'FILTER_SUCCESS';\n\nconst fetchItemsSuccess = (payload) => ({\n  type: FETCH_ITEM_SUCCESS,\n  result: payload.Brastlewark\n});\n\nconst fetchItemsFailure = () => ({\n  type: FETCH_ITEM_FAILURE\n});\n\nexport const addItems = () => ({\n  type: ADD_ITEMS\n});\n\n\nexport const fetchItems = () => {\n  return (dispatch) => {\n    dispatch({ type: FETCH_ITEM });\n    return axios.get(`${endpoint}/photos/?client_id=${ACCESS_KEY}`)\n      .then(res => {\n        if (res.status === 200) {\n          return dispatch(fetchItemsSuccess(res.data))\n        }\n      })\n      .catch(err => dispatch(fetchItemsFailure()))\n  }\n}\n\nexport const searchItems = (term) => {\n  return (dispatch, getState) => {\n    dispatch({ type: SEARCH_ITEMS });\n    const items =  getState().items;\n    const data = items.data.filter(item => {\n      return item.name.toLowerCase().includes(term.toLowerCase())\n    });\n    setTimeout(() => {\n      dispatch({ type: SEARCH_SUCCESS, result: data });\n    }, 2000);\n  }\n}\n\nexport const sortByName = (property, order) => {\n  return (dispatch, getState) => {\n    dispatch({ type: SORT_ITEMS });\n    const items = getState().items;\n\n    let data = _.sortBy(items.data, property, order);\n    if (order === 'desc') data = data.reverse();\n    setTimeout(() => {\n      dispatch({ type: SORT_SUCCESS, result: data });\n    }, 2000);\n  }\n}\n\nexport const filterByAge = (min, max) => {\n  return (dispatch, getState) => {\n    dispatch({ type: FILTER_ITEMS });\n    const items =  getState().items;\n    const filtered = items.data.filter((item) => {\n      return min <= item.age  && max >= item.age;\n    });\n    setTimeout(() => {\n      dispatch({ type: FILTER_SUCCESS, result: filtered });\n    }, 2000);\n  }\n}"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAFA;AAAA;AACA;AAIA;AAAA;AACA;AADA;AAAA;AACA;AAGA;AAAA;AACA;AADA;AAAA;AAKA;AACA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;;;A","sourceRoot":""}